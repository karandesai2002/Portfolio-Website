<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neon Tech Deck — Focus Center (No Glitches)</title>

  <style>
    :root{
      --bg-dark:#050505;
      --neon-green:#ccff00;
      --text-black:#000;

      --card-w:440px;
      --card-h:300px;

      /* Visual spacing in wall mode (can overlap visually; no glitches because we don't use :hover on cards) */
      --gap:260px;
      --open-tilt:10deg;
    }

    body{
      margin:0;
      min-height:100vh;
      background:var(--bg-dark);
      font-family:'Inter','Helvetica Neue',Arial,sans-serif;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }

    .scene{
      position:relative;
      width:100vw;
      height:600px;
      perspective:2500px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }

    /* Background dim when “super focus” (optional) */
    .backdrop{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,0.60);
      opacity:0;
      transition:opacity 180ms ease;
      pointer-events:none;
    }
    .scene.dim .backdrop{ opacity:1; }

    .deck{
      position:relative;
      width:100%;
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;

      /* important: prevent browser hover-hit-tests on overlapping children */
      pointer-events:none;
    }

    .card{
      position:absolute;
      width:var(--card-w);
      height:var(--card-h);
      transform-style:preserve-3d;
      will-change:transform;
      transition:transform 520ms cubic-bezier(0.2,0.8,0.2,1), z-index 0ms;
      user-select:none;

      /* STACKED */
      transform:
        rotateY(25deg)
        translateZ(calc(var(--i) * -50px))
        translateX(calc(var(--i) * 15px));

      z-index:calc(10 - var(--i));
    }

    /* WALL OPEN (purely visual; reliable) */
    .scene:hover .card,
    .scene.open .card{
      z-index:var(--i);
      transform:
        rotateY(var(--open-tilt))
        translateZ(0px)
        translateX(calc((var(--i) - 2) * var(--gap)));
    }

    /* FULL FOCUS: selected card snaps to center + zoom */
    .scene:hover .card.is-focus,
    .scene.open .card.is-focus{
      z-index:900 !important;
      transform:
        rotateY(0deg)
        translateX(0px)
        translateZ(240px)
        scale(1.18);
    }

    /* OPTIONAL SUPER-FOCUS: extra pop + dim */
    .scene:hover .card.is-pop,
    .scene.open .card.is-pop{
      z-index:1000 !important;
      transform:
        rotateY(0deg)
        translateX(0px)
        translateZ(290px)
        scale(1.23);
    }

    .ghost-frame{
      position:absolute;
      top:15px; left:-15px;
      width:100%; height:100%;
      border:2px dashed var(--neon-green);
      background:transparent;
      transform:translateZ(-2px);
      pointer-events:none;
      opacity:0.95;
      transition:transform 320ms ease, opacity 320ms ease;
    }
    .card.is-focus .ghost-frame{
      transform:translateZ(-45px) translateX(-16px);
      opacity:1;
    }

    .face{
      position:absolute;
      inset:0;
      background:var(--neon-green);
      border:1px solid #fff;

      display:flex;
      flex-direction:row;
      padding:30px;
      box-sizing:border-box;

      background-image:linear-gradient(135deg, rgba(255,255,255,0.4) 0%, transparent 50%);
      box-shadow:-20px 0 40px rgba(0,0,0,0.8);

      backface-visibility:hidden;
      transition:box-shadow 240ms ease, background-color 240ms ease;
    }

    .card.is-focus .face{
      background-color:#eaff56;
      box-shadow:0 20px 60px rgba(0,0,0,0.9);
    }

    /* Typography */
    .card-left{
      flex:1;
      display:flex;
      flex-direction:column;
      justify-content:center;
      border-left:5px solid var(--text-black);
      padding-left:20px;
      margin-right:20px;
    }

    .card-number{
      font-size:3.5rem;
      font-weight:900;
      color:rgba(0,0,0,0.1);
      line-height:1;
      margin-bottom:5px;
    }

    .card-title{
      font-size:2.2rem;
      font-weight:800;
      text-transform:uppercase;
      color:var(--text-black);
      line-height:0.9;
    }

    .card-right{
      flex:1.2;
      display:flex;
      flex-direction:column;
      justify-content:center;
      opacity:0;
      transform:translateX(10px);
      transition:opacity 220ms ease, transform 220ms ease;
    }

    /* Title card always visible (matches your original behavior) */
    .card[data-i="0"] .card-right{
      opacity:1;
      transform:none;
    }

    /* Focused card reveals details */
    .card.is-focus .card-right{
      opacity:1;
      transform:none;
    }

    .skill-list{ list-style:none; padding:0; margin:0; }
    .skill-list li{
      font-size:1rem;
      font-weight:700;
      color:var(--text-black);
      padding:6px 0;
      border-bottom:1px solid rgba(0,0,0,0.1);
    }

    .intro-text{
      font-weight:700;
      color:#000;
      line-height:1.4;
    }
  </style>
</head>

<body>
  <div class="scene" id="scene">
    <div class="backdrop"></div>

    <div class="deck" id="deck">

      <!-- CARD 0 -->
      <div class="card" data-i="0" style="--i:0">
        <div class="ghost-frame"></div>
        <div class="face">
          <div class="card-left">
            <div class="card-number">///</div>
            <div class="card-title">Technical<br>Skills</div>
          </div>
          <div class="card-right">
            <p class="intro-text">
              My technical toolkit ranging from Data Analytics to AI Engineering.
              <br><br>
              <small>→ Hover to Inspect Deck</small>
            </p>
          </div>
        </div>
      </div>

      <!-- CARD 1 -->
      <div class="card" data-i="1" style="--i:1">
        <div class="ghost-frame"></div>
        <div class="face">
          <div class="card-left">
            <div class="card-number">01</div>
            <div class="card-title">Analytics</div>
          </div>
          <div class="card-right">
            <ul class="skill-list">
              <li>Python &amp; SQL</li>
              <li>Power BI</li>
              <li>Tableau</li>
              <li>MATLAB</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- CARD 2 -->
      <div class="card" data-i="2" style="--i:2">
        <div class="ghost-frame"></div>
        <div class="face">
          <div class="card-left">
            <div class="card-number">02</div>
            <div class="card-title">AI &amp; Data</div>
          </div>
          <div class="card-right">
            <ul class="skill-list">
              <li>Vibe Coding</li>
              <li>Model Training</li>
              <li>Prompt Eng.</li>
              <li>Annotation</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- CARD 3 -->
      <div class="card" data-i="3" style="--i:3">
        <div class="ghost-frame"></div>
        <div class="face">
          <div class="card-left">
            <div class="card-number">03</div>
            <div class="card-title">Video</div>
          </div>
          <div class="card-right">
            <ul class="skill-list">
              <li>HUDL Code</li>
              <li>Dartfish</li>
              <li>NacSport</li>
              <li>Kinovea</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- CARD 4 -->
      <div class="card" data-i="4" style="--i:4">
        <div class="ghost-frame"></div>
        <div class="face">
          <div class="card-left">
            <div class="card-number">04</div>
            <div class="card-title">Core<br>Skills</div>
          </div>
          <div class="card-right">
            <ul class="skill-list">
              <li>Leadership</li>
              <li>Problem Solving</li>
              <li>MS Office Suite</li>
              <li>Adaptability</li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>

<script>
(() => {
  const scene = document.getElementById("scene");
  const cards = Array.from(document.querySelectorAll(".card"));

  const root = getComputedStyle(document.documentElement);
  const GAP = parseFloat(root.getPropertyValue("--gap")) || 260;
  const CARD_W = parseFloat(root.getPropertyValue("--card-w")) || 440;
  const CARD_H = parseFloat(root.getPropertyValue("--card-h")) || 300;

  const CENTER_INDEX = 2; // for 5 cards: 0..4

  // Non-overlapping activation zones (this prevents edge flicker).
  // Make these smaller/larger if you want easier/harder selection.
  const ACT_W = CARD_W * 0.55;  // middle 55% width
  const ACT_H = CARD_H * 0.80;  // middle 80% height

  // Optional super-focus (pop) zone when the card is centered
  const POP_X_MIN = 0.22, POP_X_MAX = 0.78;
  const POP_Y_MIN = 0.22, POP_Y_MAX = 0.78;

  let activeIdx = -1;
  let isInside = false;

  function setActive(idx){
    activeIdx = idx;
    cards.forEach((c,i) => {
      c.classList.toggle("is-focus", i === idx);
      c.classList.remove("is-pop");
    });
    scene.classList.remove("dim");
  }

  function clearAll(){
    activeIdx = -1;
    cards.forEach(c => c.classList.remove("is-focus","is-pop"));
    scene.classList.remove("dim");
  }

  function pointInZone(px, py, cx, cy, w, h){
    return Math.abs(px - cx) <= w/2 && Math.abs(py - cy) <= h/2;
  }

  scene.addEventListener("mouseenter", () => {
    isInside = true;
    scene.classList.add("open"); // helps on some setups; CSS :hover still works too
  });

  scene.addEventListener("mouseleave", () => {
    isInside = false;
    scene.classList.remove("open");
    clearAll();
  });

  scene.addEventListener("mousemove", (e) => {
    if (!isInside) return;

    const srect = scene.getBoundingClientRect();
    const sceneCX = srect.left + srect.width / 2;
    const sceneCY = srect.top  + srect.height / 2;

    // 1) Find which activation zone the cursor is inside (zones are fixed to wall positions)
    let hoveredIdx = -1;
    let bestDist = Infinity;

    for (let i = 0; i < cards.length; i++){
      const zoneCX = sceneCX + (i - CENTER_INDEX) * GAP;
      const zoneCY = sceneCY;

      if (pointInZone(e.clientX, e.clientY, zoneCX, zoneCY, ACT_W, ACT_H)){
        // if somehow multiple match, pick nearest center
        const d = Math.abs(e.clientX - zoneCX);
        if (d < bestDist){
          bestDist = d;
          hoveredIdx = i;
        }
      }
    }

    // 2) If we entered a new zone, switch focus. If in no zone, keep current focus.
    if (hoveredIdx !== -1 && hoveredIdx !== activeIdx){
      setActive(hoveredIdx);
    }

    // 3) Optional: super-focus when cursor is in the centered card's middle
    // (only if a card is focused)
    if (activeIdx !== -1){
      const face = cards[activeIdx].querySelector(".face");
      const r = face.getBoundingClientRect();

      const insideFace =
        e.clientX >= r.left && e.clientX <= r.right &&
        e.clientY >= r.top  && e.clientY <= r.bottom;

      if (insideFace){
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top)  / r.height;
        const inPop = (x > POP_X_MIN && x < POP_X_MAX && y > POP_Y_MIN && y < POP_Y_MAX);

        cards[activeIdx].classList.toggle("is-pop", inPop);
        scene.classList.toggle("dim", inPop);
      } else {
        cards[activeIdx].classList.remove("is-pop");
        scene.classList.remove("dim");
      }
    }
  }, { passive:true });

})();
</script>
</body>
</html>
